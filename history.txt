  677  chmmod +x '/opt/otus/homeworks/3/Keonik1_infra/install_ruby.sh'
  678  chmod +x '/opt/otus/homeworks/3/Keonik1_infra/install_ruby.sh'
  679  chmod +x '/opt/otus/homeworks/3/Keonik1_infra/deploy.sh'
  680  chmod +x '/opt/otus/homeworks/3/Keonik1_infra/intall_mongodb.sh'
  681  git add .
  682  git commit 
  683  git push
  684  git push --set-upstream origin cloud-testapp
  685  git add .
  686  git commit 
  687  git push --set-upstream origin cloud-testapp
  688  git checkout -b cloud-bastion 
  689  git graph
  690  git worktree 
  691  git log
  692  git pull
  693  git fetch
  694  git pull
  695  git branchs
  696  git branch -a
  697  git checkout main 
  698  git branch -d cloud-bastion 
  699  git branch -D cloud-bastion 
  700  git checkout origin/cloud-bastion 
  701  ls -l
  702  chmod +x install_ruby.sh deploy.sh 
  703  ls -l
  704  git config user.email 
  705  git branch -d cloud-testapp 
  706  git config user.email = balovnev01@gmail.com
  707  git config user.name = keonik
  708  git config user.email 
  709  git config user.email balovnev01@gmail.com
  710  git config user.name keonik
  711  git config user.email 
  712  git config user.name
  713  git add .
  714  git commit
  715  git push
  716  git rev-parse
  717  git rev-parse HEAD
  718  git branch
  719  git push origin HEAD:cloud_testapp
  720  git branch -a cloud_testapp
  721  git branch  cloud_testapp
  722  git push 
  723  git push origin --set-upstream  HEAD:cloud_testapp
  724  ls
  725  git log
  726  git checkout cloud_testapp 
  727  git push 
  728  git push --set-upstream origin cloud_testapp
  729  git checkout cloud-testapp 
  730  git checkout cloud_testapp 
  731  git branch -d cloud-testapp 
  732  git checkout cloud-testapp cloud_testapp 
  733  git checkout -b cloud-testapp cloud_testapp 
  734  git push --set-upstream origin cloud-testapp
  735  git add .
  736  git commit 
  737  git push
  738  mkdir 5
  739  cd 5
  740  git clone https://github.com/Otus-DevOps-2023-07/Keonik1_infra.git
  741  export https_proxy=http://127.0.0.1:3128
  742  export http_proxy=http://127.0.0.1:3128
  743  git clone https://github.com/Otus-DevOps-2023-07/Keonik1_infra.git
  744  cd Keonik1_infra/
  745  git config user.name
  746  git config user.name keonik
  747  git config user.email balovnev01@gmail.com
  748  cd ..
  749  cd homeworks/5/Keonik1_infra/
  750  git config user.name 
  751  git checkout -b packer-base
  752  git branch
  753  wget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg
  754  echo "deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/hashicorp.list
  755  sudo apt update && sudo apt install packer
  756  wget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg
  757  echo "deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main" | sudo tee /etc/apt/sources.list.d/hashicorp.list
  758  sudo apt update && sudo apt install packer
  759  wget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg
  760  wget -O- https://apt.releases.hashicorp.com/gpg
  761  wget https://hashicorp-releases.yandexcloud.net/packer/1.9.4/packer_1.9.4_linux_amd64.zip -o /tmp
  762  wget https://hashicorp-releases.yandexcloud.net/packer/1.9.4/packer_1.9.4_linux_amd64.zip -o /tmp-packer.zip
  763  sudo wget https://hashicorp-releases.yandexcloud.net/packer/1.9.4/packer_1.9.4_linux_amd64.zip -o /tmp-packer.zip
  764  vim /tmp-packer.zip 
  765  sudo rm -rf /tmp-packer.zip 
  766  sudo wget https://hashicorp-releases.yandexcloud.net/packer/1.9.4/packer_1.9.4_linux_amd64.zip -O - /tmp-packer.zip
  767  sudo wget -O /tmp https://hashicorp-releases.yandexcloud.net/packer/1.9.4/packer_1.9.4_linux_amd64.zip
  768  sudo wget -O /tmp/packer.zip https://hashicorp-releases.yandexcloud.net/packer/1.9.4/packer_1.9.4_linux_amd64.zip
  769  vim /tmp/packer.zip 
  770  sudo unzip /tmp/packer.zip -d /usr/local/bin/
  771  packer -v
  772  sudo df -h
  773  yc config list
  774  SVC_ACCT="packer-sa"
  775  FOLDER_ID="b1g9fjne5ovk2prd63l2"
  776  yc iam service-account create --name $SVC_ACCT --folder-id $FOLDER_ID 
  777  ACCT_ID=$(yc iam service-account get $SVC_ACCT | \
grep ^id | \
awk '{print $2}')
  778  echo $ACCT_ID
  779  yc resource-manager folder add-access-binding --id $FOLDER_ID --role editor --service-account-id $ACCT_ID
  780  mkdir ~/yc
  781  yc iam key create --service-account-id $ACCT_ID --output ~/yc/key.json
  782  mkdir packer
  783  cd packer/
  784  ls /home/balovnev/yc/key.json
  785  echo $FOLDER_ID
  786  packer validate ./ubuntu16.pkr.hcl
  787  packer init ubuntu16.pkr.hcl 
  788  packer validate ./ubuntu16.pkr.hcl
  789  packer init
  790  packer init config.pkr.hcl 
  791  packer validate ./ubuntu16.pkr.hcl
  792  packer build ./ubuntu16.pkr.hcl
  793  yc config list
  794  packer build ./ubuntu16.pkr.hcl
  795  yc config profile list
  796  packer build ./ubuntu16.pkr.hcl
  797  vim /home/balovnev/yc/key.json 
  798  packer build ./ubuntu16.pkr.hcl
  799  history > ../history.txt | tail -n 100
